{"ast":null,"code":"var _jsxFileName = \"/home/misty/Projects/TrailerPeak/src/pages/movie.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Feature } from '../components';\nimport YouTube from 'react-youtube';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { fetchMagnetData } from '../features/magnet/magnetActions'; // Import the thunk\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = 'YOUR_TMDB_API_KEY';\nexport default function Movie() {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    id,\n    name\n  } = useParams(); // Get movie ID from the URL\n  const [similarMovies, setSimilarMovies] = useState([]);\n\n  // Access Redux state\n  const {\n    magnet: magnetData,\n    loading,\n    error\n  } = useSelector(state => state.magnet);\n  useEffect(() => {\n    dispatch(fetchMagnetData(id)); // Fetch trailer video using movie ID\n  }, [dispatch, id]);\n\n  // Fetch similar movies\n  useEffect(() => {\n    async function fetchSimilarMovies() {\n      try {\n        const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}/similar?api_key=${API_KEY}`);\n        setSimilarMovies(response.data.results);\n      } catch (error) {\n        console.error('Error fetching similar movies:', error);\n      }\n    }\n    if (id) {\n      fetchSimilarMovies();\n    }\n  }, [id]);\n\n  // YouTube component options\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: {\n      autoplay: 1 // Auto-play the video\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Feature, {\n      children: [/*#__PURE__*/_jsxDEV(Feature.Title, {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this) : magnetData ? /*#__PURE__*/_jsxDEV(YouTube, {\n        videoId: magnetData,\n        opts: opts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No video available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Similar Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          overflowX: 'scroll'\n        },\n        children: similarMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/w200/${movie.poster_path}`,\n            alt: movie.title,\n            style: {\n              borderRadius: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, movie.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Movie, \"81XTVVu4wI+0faa/z5wimo6ZqUY=\", false, function () {\n  return [useDispatch, useParams, useSelector];\n});\n_c = Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Feature","YouTube","useParams","axios","fetchMagnetData","jsxDEV","_jsxDEV","API_KEY","Movie","_s","dispatch","id","name","similarMovies","setSimilarMovies","magnet","magnetData","loading","error","state","fetchSimilarMovies","response","get","data","results","console","opts","height","width","playerVars","autoplay","children","Title","fileName","_jsxFileName","lineNumber","columnNumber","videoId","style","display","overflowX","map","movie","marginRight","src","poster_path","alt","title","borderRadius","_c","$RefreshReg$"],"sources":["/home/misty/Projects/TrailerPeak/src/pages/movie.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Feature } from '../components';\nimport YouTube from 'react-youtube';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { fetchMagnetData } from '../features/magnet/magnetActions'; // Import the thunk\n\nconst API_KEY = 'YOUR_TMDB_API_KEY';\n\nexport default function Movie() {\n  const dispatch = useDispatch();\n  const { id, name } = useParams(); // Get movie ID from the URL\n  const [similarMovies, setSimilarMovies] = useState([]);\n\n  // Access Redux state\n  const { magnet: magnetData, loading, error } = useSelector((state) => state.magnet);\n\n  useEffect(() => {\n    dispatch(fetchMagnetData(id)); // Fetch trailer video using movie ID\n  }, [dispatch, id]);\n\n  // Fetch similar movies\n  useEffect(() => {\n    async function fetchSimilarMovies() {\n      try {\n        const response = await axios.get(\n          `https://api.themoviedb.org/3/movie/${id}/similar?api_key=${API_KEY}`\n        );\n        setSimilarMovies(response.data.results);\n      } catch (error) {\n        console.error('Error fetching similar movies:', error);\n      }\n    }\n\n    if (id) {\n      fetchSimilarMovies();\n    }\n  }, [id]);\n\n  // YouTube component options\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: {\n      autoplay: 1, // Auto-play the video\n    },\n  };\n\n  return (\n    <div>\n      <Feature>\n        <Feature.Title>{name}</Feature.Title>\n\n        {loading ? (\n          <p>Loading...</p>\n        ) : error ? (\n          <p>Error: {error}</p>\n        ) : magnetData ? (\n          <YouTube videoId={magnetData} opts={opts} />\n        ) : (\n          <p>No video available.</p>\n        )}\n\n        <h2>Similar Movies</h2>\n        <div style={{ display: 'flex', overflowX: 'scroll' }}>\n          {similarMovies.map((movie) => (\n            <div key={movie.id} style={{ marginRight: '10px' }}>\n              <img\n                src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n                alt={movie.title}\n                style={{ borderRadius: '8px' }}\n              />\n              <p>{movie.title}</p>\n            </div>\n          ))}\n        </div>\n      </Feature>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}